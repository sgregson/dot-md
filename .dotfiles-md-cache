{"status":"init","filter":"**/*.md","files":["dotfiles/git-stats.md","dotfiles/git/aliases.md","dotfiles/git/global config.md","dotfiles/git/gpg.md","dotfiles/hyper.md","dotfiles/jrnl.md","dotfiles/Linting and Formatting.md","dotfiles/macos/homebrew.md","dotfiles/macos/macos.md","dotfiles/macos/markdown quicklook.md","dotfiles/macos/window management.md","dotfiles/README.md","dotfiles/shell/misc.md","dotfiles/shell/zsh.md","dotfiles/shell/zsh/oh-my-zsh.md","dotfiles/ssh.md","dotfiles/Vim.md"],"blocks":[{"lang":"sh","meta":"$HOME/.custom/aliases.sh action=symlink title=git-shell-aliases","options":{"targetPath":"/Users/sgregson/.custom/aliases.sh","action":"symlink","title":"git-shell-aliases"},"content":"alias g=\"git\"\nalias gf=\"git fetch\"\n# alias go=\"git checkout\"\nalias gs=\"git status\"\nalias gd=\"git diff\"\nalias gdc=\"git diff --cached\"\n# alias squash=\"git merge --squash\"\n\nalias jfdi=\"pushd ~/Code/dotfiles-md/ && yarn jfdi && popd\"","source":"dotfiles/git/aliases.md","disabled":false,"label":"git-shell-aliases \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/aliases.sh"},{"lang":"ini","meta":"$HOME/.gitconfig action=symlink title=gitconfig(global)","options":{"targetPath":"/Users/sgregson/.gitconfig","action":"symlink","title":"gitconfig(global)"},"content":"[init]\n  templatedir = ~/.git-templates\n[user]\n  name = Spencer Gregson\n  email = sgregson@users.noreply.github.com\n  signingkey = ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIN8v19rW4ftIjw2zofl4kzDYvtSko9X8DG0NHXWPA1g1\n; [includeIf \"hasconfig:remote.*.url:**/csnzoo/**\"]\n[includeIf \"gitdir:~/Documents/Code/Wayfair/\"]\n  path = ~/.gitconfig-csnzoo\n[gpg]\n  program = gpgs\n  format = ssh\n[gpg \"ssh\"]\n  program = \"/Applications/1Password.app/Contents/MacOS/op-ssh-sign\"\n[commit]\n  gpgSign = true\n\ttemplate = /Users/sgregson/.gitmessage\n[core]\n  editor = code --wait\n  autocrlf = false\n  pager = less -+$LESS -FRSX # prevents diff commands from going to altscreen\n  excludesfile = ~/.gitignore\n[color]\n  diff = auto\n  status = auto\n  branch = auto\n  interactive = auto\n  ui = true\n  pager = true\n[color \"branch\"]\n  upstream = red\n# [credential]\n#   helper = cache --timeout=3600\n[diff]\n  tool = vscode\n  compactionHeuristic = true\n[difftool \"meld\"]\n  trustExitCode = true\n  cmd = open -W -a Meld --args \\\"$LOCAL\\\" \\\"$PWD/$REMOTE\\\"\n[difftool \"vscode\"]\n  cmd = code --wait --diff \\\"$LOCAL\\\" \\\"$REMOTE\\\"\n[difftool \"sublimerge\"]\n  cmd = subl-diff \\\"$LOCAL\\\" \\\"$REMOTE\\\"\n[difftool \"diffmerge\"]\n  cmd = /usr/local/bin/diffmerge \\\"$LOCAL\\\" \\\"$REMOTE\\\"\n[fetch]\n  prune = true\n[merge]\n  conflictstyle = diff3\n  tool = vscode\n  keepBackup = false\n[mergetool]\n  prompt = false\n  keepBackup = false\n[mergetool \"vscode\"]\n  cmd = code --wait --merge $BASE $LOCAL $REMOTE $MERGED\n[mergetool \"meld\"]\n  trustExitCode = true\n  cmd = open -W -a Meld --args --auto-merge \\\"$PWD/$LOCAL\\\" \\\"$PWD/$BASE\\\" \\\"$PWD/$REMOTE\\\" --output=\\\"$PWD/$MERGED\\\"\n[mergetool \"sublimerge\"]\n  cmd = subl-merge \\\"$REMOTE\\\" \\\"$BASE\\\" \\\"$LOCAL\\\" \\\"$MERGED\\\"\n[mergetool \"diffmerge\"]\n  cmd = /usr/local/bin/diffmerge --merge --result=\\\"$MERGED\\\" \\\"$LOCAL\\\" \\\"$BASE\\\" \\\"$REMOTE\\\"\n  trustExitCode = true\n[mergetool \"tortoisemerge\"]\n  cmd = \\\"\"c:/Program Files/TortoiseSVN/bin/TortoiseMerge.exe\"\\\" -base:\"$BASE\" -theirs:\"$REMOTE\" -mine:\"$LOCAL\" -merged:\"$MERGED\"\n[rebase]\n  autosquash = true\n[oh-my-zsh]\n  hide-status = 0\n  hide-dirty  = 1\n[push]\n  autoSetupRemote = true\n  default = upstream\n  # default = simple # n00b mode\n[alias]\n  # DEFAULTS\n  b               = branch\n  d               = diff\n  s               = status -u\n  diff            = diff --full-index\n  history         = log --oneline --decorate --graph\n  lc              = log ORIG_HEAD.. --stat --no-merges\n  pullr           = pull --rebase\n  mom             = ! git fetch && git merge origin/main\n  rom             = ! git fetch && git rebase origin/main\n  mam             = ! git fetch && git merge origin/master\n  ram             = ! git fetch && git rebase origin/master\n\n  # making fixes and patches\n  fixup = \"!git log -n 50 --pretty=format:'%h %s' --no-merges | fzf | cut -c -7 | xargs -o git commit --fixup\"\n  autosquash = \"!git rebase -i --autosquash $(git merge-base origin/main HEAD)\"\n\n  pop = \"!git stash list | fzf | cut -d':' -f1 | xargs -o git stash pop\"\n\n  # BRANCH TRAVERSING\n  go              = checkout\n  go-tag          = \"! git fetch --tags && git checkout $(git describe --tags `git rev-list --tags --max-count=1`)\"\n  # DIFFS\n  changes         = diff --name-status -r\n  rb-css          = \"! git diff -M --full-index origin/master...HEAD -- *.scss *.css\"\n  rb-js           = \"! git diff -M --full-index origin/master...HEAD -- *.js\"\n  conflicts       = diff --name-only --diff-filter=U\n  diffout         = diff --full-index origin/master\n  diffstat        = diff --stat -r\n  diff-lessnode   = \"! git diff --diff-filter=MAd origin/master...HEAD --name-only | grep -v '^node_modules/' | xargs git diff $MERGE_BASE --full-index\"\n  u-stat          = \"! git diff -M --full-index origin/main...HEAD --stat\"\n  u-stat-open     = \"! git diff -M --diff-filter=MAd --full-index origin/main...HEAD --name-status | grep -o \\\"[a-z\\\\.\\\\/_A-Z0-9]\\\\{2,\\\\}\\\" | xargs code -a\"\n  # BRANCHES\n  bd              = \"for-each-ref --sort=committerdate refs/heads/ --format='%1B[0;31m%(committerdate:relative)%1B[m%09%(refname:short) [%1B[1;34m%(upstream:short)%1B[m]'\"\n  todo            = branch --no-merged\n  unmerged        = rev-list --not master --no-merges --pretty\n  # LOG/LIST\n  branchcommits   = log master...\n  last            = log -1 HEAD --stat -p\n  log-line        = log --topo-order -u -L\n  log-mine        = log --author=\"%GIT_NAME\" --topo-order --reverse -u -L\n  log-u           = \"! MERGE_BASE=$(git merge-base origin/main HEAD); git log $MERGE_BASE..HEAD\"\n  staging-info    = \"log --pretty=short --no-walk\" # echo's info necessary for staging deployments (branch, commit#)\n  # REMOTES\n  rmorigin        = push --delete origin\n  # DEPLOY TRAINS\n  trains          = \"! git fetch -q && git for-each-ref --count=5 --sort=-committerdate --format='%1B[0;31m%(committerdate:relative)%1B[m%09 %(refname:short)' refs/remotes/origin/deploy_*\"\n  train           = ! git fetch -q && git for-each-ref --count=1 --sort=-committerdate --format='%(refname:short)' refs/remotes/origin/deploy_*\n  train-board     = ! git train | xargs git checkout -t\n  trains-clean    = ! git branch --list | grep deploy_ | xargs git branch -d\n  trains-clean-f  = ! git branch --list | grep deploy_ | xargs git branch -D\n  squash-last     = ! git merge --squash $(git describe --all $(git rev-parse @{-1}))\n  # EXCLUSIVE DIFF\n  diff-exclude    =  ! git diff --name-only origin/master | grep -v -E \"$1\" | xargs git diff origin/master --full-index\n  # IDENTITY\n  whoami          = ! git config --get user.name && git config --get user.email\n\n  # Workflow\n  mark-done       = \"! f() { git branch -m \\\"$1\\\" \\\"=$1\\\"; }; f\"\n  mark-ready      = \"! f() { git branch -m \\\"$1\\\" \\\"+$1\\\"; }; f\"\n  permission-reset = \"!git diff -p -R --no-color | grep -E \\\"^(diff|(old|new) mode)\\\" --color=never | git apply\"\n  ## Project Tracker\n  # `git set-pt 123456` => appends _pt_123456 to the current branch name\n  # `git open-pt` => opens PT to the current branch's known pt#, assuming convention \"branch_name_pt_123456\"\n  set-pt          = \"! this=$(git rev-parse --abbrev-ref HEAD); pre=\"_pt_\"; that=$1; shift; soon=$this$pre$that; git branch -m $this $soon\"\n  open-pt         = \"! pt=$(git rev-parse --abbrev-ref HEAD | rev | cut -d'_' -f 1 | rev); open \\\"https://admin.wayfair.com/tracker/views/142.php?PrtID=$pt\\\"\"","source":"dotfiles/git/global config.md","disabled":false,"label":"gitconfig(global) \u001b[32msymlink\u001b[39m:\u001b[4mini\u001b[24m to /Users/sgregson/.gitconfig"},{"lang":"sh","meta":"$HOME/.gitignore action=symlink title=gitignore(global)","options":{"targetPath":"/Users/sgregson/.gitignore","action":"symlink","title":"gitignore(global)"},"content":"*.sublime-workspace\n*.sublime-projects\n.tags*\n\ndesktop.ini\n.DS_Store","source":"dotfiles/git/global config.md","disabled":false,"label":"gitignore(global) \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.gitignore"},{"lang":"ini","meta":"$HOME/.gnupg/gpg-agent.conf action=symlink title=gpg-pinentry","options":{"targetPath":"/Users/sgregson/.gnupg/gpg-agent.conf","action":"symlink","title":"gpg-pinentry"},"content":"pinentry-program /opt/homebrew/bin/pinentry-mac","source":"dotfiles/git/gpg.md","disabled":false,"label":"gpg-pinentry \u001b[32msymlink\u001b[39m:\u001b[4mini\u001b[24m to /Users/sgregson/.gnupg/gpg-agent.conf"},{"lang":"js","meta":"$HOME/hyper.js action=symlink","options":{"targetPath":"/Users/sgregson/hyper.js","action":"symlink"},"content":"module.exports = {\n  config: {\n    // default font size in pixels for all tabs\n    fontSize: 14,\n\n    // font family with optional fallbacks\n    fontFamily:\n      '\"Fira Code\", Menlo, \"DejaVu Sans Mono\", Consolas, \"Lucida Console\", monospace',\n\n    // terminal cursor background color and opacity (hex, rgb, hsl, hsv, hwb or cmyk)\n    cursorColor: \"rgba(248,28,229,0.8)\",\n\n    // `BEAM` for |, `UNDERLINE` for _, `BLOCK` for â–ˆ\n    cursorShape: \"BLOCK\",\n\n    // color of the text\n    foregroundColor: \"#fff\",\n\n    // terminal background color\n    backgroundColor: \"#000\",\n\n    // border color (window, tabs)\n    borderColor: \"#333\",\n\n    // custom css to embed in the main window\n    css: \"\",\n\n    // custom css to embed in the terminal window\n    termCSS: `\n        x-screen x-row {\n            font-variant-ligatures: initial;\n        }\n    `,\n\n    // set to `true` if you're using a Linux set up\n    // that doesn't shows native menus\n    // default: `false` on Linux, `true` on Windows (ignored on macOS)\n    showHamburgerMenu: \"\",\n\n    // set to `false` if you want to hide the minimize, maximize and close buttons\n    // additionally, set to `'left'` if you want them on the left, like in Ubuntu\n    // default: `true` on windows and Linux (ignored on macOS)\n    showWindowControls: \"\",\n\n    // custom padding (css format, i.e.: `top right bottom left`)\n    padding: \"12px 14px\",\n\n    // the full list. if you're going to provide the full color palette,\n    // including the 6 x 6 color cubes and the grayscale map, just provide\n    // an array here instead of a color map object\n    colors: {\n      black: \"#000000\",\n      red: \"#ff0000\",\n      green: \"#33ff00\",\n      yellow: \"#ffff00\",\n      blue: \"#0066ff\",\n      magenta: \"#cc00ff\",\n      cyan: \"#00ffff\",\n      white: \"#d0d0d0\",\n      lightBlack: \"#808080\",\n      lightRed: \"#ff0000\",\n      lightGreen: \"#33ff00\",\n      lightYellow: \"#ffff00\",\n      lightBlue: \"#0066ff\",\n      lightMagenta: \"#cc00ff\",\n      lightCyan: \"#00ffff\",\n      lightWhite: \"#ffffff\",\n    },\n\n    // the shell to run when spawning a new session (i.e. /usr/local/bin/fish)\n    // if left empty, your system's login shell will be used by default\n    shell: \"\",\n\n    // for setting shell arguments (i.e. for using interactive shellArgs: ['-i'])\n    // by default ['--login'] will be used\n    shellArgs: [\"--login\"],\n\n    // for environment variables\n    env: {},\n\n    // set to false for no bell\n    bell: \"SOUND\",\n\n    // if true, selected text will automatically be copied to the clipboard\n    copyOnSelect: true,\n\n    // URL to custom bell\n    // bellSoundURL: 'http://example.com/bell.mp3',\n\n    // for advanced config flags please refer to https://hyper.is/#cfg\n  },\n\n  // a list of plugins to fetch and install from npm\n  // format: [@org/]project[#version]\n  // examples:\n  //   `hyperpower`\n  //   `@company/project`\n  //   `project#1.0.1`\n  plugins: [\n    // 'hyperborder',\n    \"hyper-statusline\",\n    \"hyperterm-1password\",\n    \"hyperterm-alternatescroll\",\n    // Themes\n    \"hyper-solarized-dark\",\n    \"hyper-tabs-enhanced\",\n  ],\n\n  theme: \"hyper-solarized-dark\",\n\n  // in development, you can create a directory under\n  // `~/.hyper_plugins/local/` and include it here\n  // to load it and avoid it being `npm install`ed\n  localPlugins: [],\n};","source":"dotfiles/hyper.md","disabled":false,"label":"$HOME/hyper.js action=symlink \u001b[32msymlink\u001b[39m:\u001b[4mjs\u001b[24m to /Users/sgregson/hyper.js"},{"lang":"yaml","meta":"$HOME/.stylelintrc action=symlink title=global-stylelint","options":{"targetPath":"/Users/sgregson/.stylelintrc","action":"symlink","title":"global-stylelint"},"content":"# SCSS Linting rules, uses stylelint\n#\n# Rules are sorted alphabetcally,\n#   comment out any unused rules so we don't have to go hunting later\n\ndefaultSeverity: warning\n# plugins:\n# - stylelint-scss\nrules:\n  selector-nested-pattern:\n    - \"^[^\\\\.][^A-Z].*$\" # TODO ??\n    - severity: error","source":"dotfiles/Linting and Formatting.md","disabled":false,"label":"global-stylelint \u001b[32msymlink\u001b[39m:\u001b[4myaml\u001b[24m to /Users/sgregson/.stylelintrc"},{"lang":"sh","meta":"$HOME/.custom/gcloud-brew.sh action=symlink title=gcloud-completions when=os.darwin","options":{"targetPath":"/Users/sgregson/.custom/gcloud-brew.sh","action":"symlink","title":"gcloud-completions","when":"os.darwin"},"content":"source \"$(brew --prefix)/share/google-cloud-sdk/path.zsh.inc\"\nsource \"$(brew --prefix)/share/google-cloud-sdk/completion.zsh.inc\"","source":"dotfiles/macos/homebrew.md","disabled":false,"label":"gcloud-completions \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/gcloud-brew.sh"},{"lang":"css","meta":"$HOME/mdqlstyle.css action=symlink title=stylesheet","options":{"targetPath":"/Users/sgregson/mdqlstyle.css","action":"symlink","title":"stylesheet"},"content":"html,body{color:black}\n*{margin:0;padding:0}\nbody{font:13.34px helvetica,arial,freesans,clean,sans-serif;-webkit-font-smoothing:antialiased;line-height:1.4;padding:30px;background:#fff;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;max-width:900px;margin:15px auto;border:3px solid #eee!important}\np{margin:1em 0}\na{color:#4183c4;text-decoration:none}\n#wrapper{background-color:#fff;border:3px solid #eee!important;padding:0 30px;margin:15px}\n#wrapper{padding:20px;font-size:14px;line-height:1.6}\n#wrapper>*:first-child{margin-top:0!important}\n#wrapper>*:last-child{margin-bottom:0!important}\nh1,h2,h3,h4,h5,h6{margin:0;padding:0}\nh1{margin:15px 0;padding-bottom:2px;font-size:24px;border-bottom:1px solid #eee}\nh2{margin:20px 0 10px 0;font-size:18px}\nh3{margin:20px 0 10px 0;padding-bottom:2px;font-size:14px;border-bottom:1px solid #ddd}\nh4{font-size:14px;line-height:26px;padding:18px 0 4px;font-weight:bold;text-transform:uppercase}\nh5{font-size:13px;line-height:26px;padding:14px 0 0;font-weight:bold;text-transform:uppercase}\nh6{color:#666;font-size:14px;line-height:26px;padding:18px 0 0;font-weight:normal;font-variant:italic}\nhr{background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;border:0 none;color:#ccc;height:4px;margin:20px 0;padding:0}\n#wrapper>h2:first-child,#wrapper>h1:first-child,#wrapper>h1:first-child+h2{border:0;margin:0;padding:0}\n#wrapper>h3:first-child,#wrapper>h4:first-child,#wrapper>h5:first-child,#wrapper>h6:first-child{margin:0;padding:0}\nh4+p,h5+p,h6+p{margin-top:0}\nli p.first{display:inline-block}\nul,ol{margin:15px 0 15px 25px}\nul li,ol li{margin-top:7px;margin-bottom:7px}\nul li>*:last-child,ol li>*:last-child{margin-bottom:0}\nul li>*:first-child,ol li>*:first-child{margin-top:0}\n#wrapper>ul,#wrapper>ol{margin-top:21px;margin-left:36px}\ndl{margin:0;padding:20px 0 0}\ndl dt{font-size:14px;font-weight:bold;line-height:normal;margin:0;padding:20px 0 0}\ndl dt:first-child{padding:0}\ndl dd{font-size:13px;margin:0;padding:3px 0 0}\nblockquote{margin:14px 0;border-left:4px solid #ddd;padding-left:11px;color:#555}\ntable{border-collapse:collapse;margin:20px 0 0;padding:0}\ntable tr{border-top:1px solid #ccc;background-color:#fff;margin:0;padding:0}\ntable tr:nth-child(2n){background-color:#f8f8f8}\ntable tr th,table tr td{border:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}\nimg{max-width:100%;height:auto}\ncode,tt{margin:0 2px;padding:2px 5px;white-space:nowrap;border:1px solid #ccc;background-color:#f8f8f8;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;font-size:12px}\npre code{margin:0;padding:0;white-space:pre;border:0;background:transparent;font-size:13px}\n.highlight pre,pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}\n#wrapper>pre,#wrapper>div.highlight{margin:10px 0 0}\npre code,pre tt{background-color:transparent;border:0}\n#wrapper{background-color:#fff;border:1px solid #cacaca;padding:30px}\n.poetry pre{font-family:Georgia,Garamond,serif!important;font-style:italic;font-size:110%!important;line-height:1.6em;display:block;margin-left:1em}\n.poetry pre code{font-family:Georgia,Garamond,serif!important}\nsup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;vertical-align:super;position:relative}\nsub{vertical-align:sub;top:-1px}\n@media print{body{background:#fff}\nimg,pre,blockquote,table,figure{page-break-inside:avoid}\n#wrapper{background:#fff;border:0}\ncode{background-color:#fff;color:#444!important;padding:0 .2em;border:1px solid #dedede}\npre code{background-color:#fff!important;overflow:visible}\npre{background:#fff}\n}\n@media screen{body.inverted,.inverted #wrapper,.inverted hr .inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dd,.inverted dt,.inverted blockquote{color:#eee!important;border-color:#555}\n.inverted td,.inverted th{background:#333}\n.inverted pre,.inverted code,.inverted tt{background:#444!important}\n.inverted h2{border-color:#555}\n.inverted hr{border-color:#777;border-width:1px!important}\n::selection{background:rgba(157,193,200,.5)}\nh1::selection{background-color:rgba(45,156,208,.3)}\nh2::selection{background-color:rgba(90,182,224,.3)}\nh3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,.3)}\ncode::selection{background-color:rgba(0,0,0,.7);color:#eee}\ncode span::selection{background-color:rgba(0,0,0,.7)!important;color:#eee!important}\na::selection{background-color:rgba(255,230,102,.2)}\n.inverted a::selection{background-color:rgba(255,230,102,.6)}\ntd::selection,th::selection,caption::selection{background-color:rgba(180,237,95,.5)}\n.inverted{background:#0b2531}\n.inverted #wrapper,.inverted{background:rgba(37,42,42,1)}\n.inverted a{color:rgba(172,209,213,1)}\n}\n.highlight .c{color:#998;font-style:italic}\n.highlight .err{color:#a61717;background-color:#e3d2d2}\n.highlight .k{font-weight:bold}\n.highlight .o{font-weight:bold}\n.highlight .cm{color:#998;font-style:italic}\n.highlight .cp{color:#999;font-weight:bold}\n.highlight .c1{color:#998;font-style:italic}\n.highlight .cs{color:#999;font-weight:bold;font-style:italic}\n.highlight .gd{color:#000;background-color:#fdd}\n.highlight .gd .x{color:#000;background-color:#faa}\n.highlight .ge{font-style:italic}\n.highlight .gr{color:#a00}\n.highlight .gh{color:#999}\n.highlight .gi{color:#000;background-color:#dfd}\n.highlight .gi .x{color:#000;background-color:#afa}\n.highlight .go{color:#888}\n.highlight .gp{color:#555}\n.highlight .gs{font-weight:bold}\n.highlight .gu{color:#800080;font-weight:bold}\n.highlight .gt{color:#a00}\n.highlight .kc{font-weight:bold}\n.highlight .kd{font-weight:bold}\n.highlight .kn{font-weight:bold}\n.highlight .kp{font-weight:bold}\n.highlight .kr{font-weight:bold}\n.highlight .kt{color:#458;font-weight:bold}\n.highlight .m{color:#099}\n.highlight .s{color:#d14}\n.highlight .na{color:#008080}\n.highlight .nb{color:#0086b3}\n.highlight .nc{color:#458;font-weight:bold}\n.highlight .no{color:#008080}\n.highlight .ni{color:#800080}\n.highlight .ne{color:#900;font-weight:bold}\n.highlight .nf{color:#900;font-weight:bold}\n.highlight .nn{color:#555}\n.highlight .nt{color:#000080}\n.highlight .nv{color:#008080}\n.highlight .ow{font-weight:bold}\n.highlight .w{color:#bbb}\n.highlight .mf{color:#099}\n.highlight .mh{color:#099}\n.highlight .mi{color:#099}\n.highlight .mo{color:#099}\n.highlight .sb{color:#d14}\n.highlight .sc{color:#d14}\n.highlight .sd{color:#d14}\n.highlight .s2{color:#d14}\n.highlight .se{color:#d14}\n.highlight .sh{color:#d14}\n.highlight .si{color:#d14}\n.highlight .sx{color:#d14}\n.highlight .sr{color:#009926}\n.highlight .s1{color:#d14}\n.highlight .ss{color:#990073}\n.highlight .bp{color:#999}\n.highlight .vc{color:#008080}\n.highlight .vg{color:#008080}\n.highlight .vi{color:#008080}\n.highlight .il{color:#099}\n.highlight .gc{color:#999;background-color:#eaf2f5}\n.type-csharp .highlight .k{color:#00F}\n.type-csharp .highlight .kt{color:#00F}\n.type-csharp .highlight .nf{color:#000;font-weight:normal}\n.type-csharp .highlight .nc{color:#2b91af}\n.type-csharp .highlight .nn{color:#000}\n.type-csharp .highlight .s{color:#a31515}\n.type-csharp .highlight .sc{color:#a31515}","source":"dotfiles/macos/markdown quicklook.md","disabled":false,"label":"stylesheet \u001b[32msymlink\u001b[39m:\u001b[4mcss\u001b[24m to /Users/sgregson/mdqlstyle.css"},{"lang":"js","meta":"$HOME/.phoenix.js action=symlink title=phoenix-install","options":{"targetPath":"/Users/sgregson/.phoenix.js","action":"symlink","title":"phoenix-install"},"content":"/// <reference path=\"../../../types/phoenix.d.ts\" />\n\"use strict\";\n/*globals Phoenix Window App Key Screen Space*/\nPhoenix.notify(\"initializing\");\n\nPhoenix.set({\n  daemon: false,\n  openAtLogin: true,\n});\n\n// Key combo aliases\nvar HYPER = [\"cmd\", \"alt\", \"ctrl\"];\nconst SUPER_HYPER = [\"shift\", \"cmd\", \"alt\", \"ctrl\"];\n\n// utils for double-clicking\nconst DOUBLE_PRESS_MS = 250;\nconst lastPressTime = new Map();\n\n// Application aliases\nvar BROWSER = \"Brave Browser\";\nvar EDITOR = \"Code\";\nvar TERMINAL = \"iTerm2\";\nvar CHAT = \"Slack\";\nvar NOTES = \"Notion\";\nvar PLAYER = \"Spotify\";\nvar CALENDAR = \"Cron\";\n\n// APPLICATION TRIGGERS\nKey.on(\"j\", HYPER, () => logged(openFocusHide)(BROWSER));\nKey.on(\"k\", HYPER, () => logged(openFocusHide)(CHAT));\nKey.on(\"l\", HYPER, () => logged(openFocusHide)(TERMINAL));\nKey.on(\"n\", HYPER, () => logged(openFocusHide)(NOTES));\nKey.on(\"p\", HYPER, () => logged(openFocusHide)(PLAYER));\nKey.on(\"o\", HYPER, () => {\n  const overlap = 100;\n\n  Screen.all().forEach((s) => {\n    s.windows().forEach((w, i) => {\n      const { x, y, width, height } = s.flippedVisibleFrame();\n      const step = {\n        x: width / 2 / (s.windows().length - 1),\n        y: height / 2 / (s.windows().length - 1),\n      };\n      w.setFrame({\n        x: x + step.x * i,\n        y: y + step.y * i,\n        width: width / 2,\n        height: height / 2,\n      });\n    });\n  });\n});\n// double-mash space to trigger default layout (single-mash to call up VS Code)\ndblKeyPress(\"space\", HYPER, (repeated) =>\n  repeated ? logged(triggerLayout)() : logged(openFocusHide)(EDITOR)\n);\n\n// Window Arrangement Keymaps\n// - l/full/r and up/full/down PC-style monitor wrapping\n// prettier-ignore\n{\n  Key.on(\"up\", HYPER, () => logged(stateToggle)([\"bottom\", \"full-y\", \"top\"]));\n  Key.on(\"down\", HYPER, () => logged(stateToggle)([\"top\", \"full-y\", \"bottom\"]));\n  Key.on(\"left\", HYPER, () => logged(stateToggle)([ \"right-3\", \"right-2\", \"right-2/3\", \"full-x\", \"left-2/3\", \"left-2\", \"left-3\",   ]));\n  Key.on(\"right\", HYPER, () => logged(stateToggle)([ \"left-3\", \"left-2\", \"left-2/3\", \"full-x\", \"right-2/3\", \"right-2\", \"right-3\",   ]));\n}\n\n// fullscreen\nKey.on(\"0\", HYPER, () => logged(stateToggle)([\"full\"]));\nKey.on(\"keypad0\", HYPER, () => logged(stateToggle)([\"full\"]));\n\n// default split 2:1\nKey.on(\",\", HYPER, () => logged(stateToggle)([\"left-2/3\"]));\nKey.on(\".\", HYPER, () => logged(stateToggle)([\"right-3\"]));\n\n// move to next screen\nKey.on(\"[\", HYPER, () => logged(moveToNextScreen)());\nKey.on(\"]\", HYPER, () => logged(moveToNextScreen)());\n\n// Window layout\nconst onScreenChange = new Event(\"screensDidChange\", () =>\n  // needs to wait for MacOS to mess everything up first\n  Timer.after(3, () => logged(triggerLayout)())\n);\n\nKey.on(\"keypad*\", HYPER, () => {\n  // https://itectec.com/askdifferent/macos-create-a-new-space-using-a-keyboard-shortcut/\n  Task.run(\"/usr/bin/osascript\", [\"-e\", \"set volume output volume 25\"], () => {\n    Modal.build({\n      origin: (frame) => {\n        const screen = Screen.main().flippedVisibleFrame();\n        return {\n          x: screen.x + screen.width / 2 - frame.width / 2,\n          y: screen.y + screen.height / 2 - frame.height / 2,\n        };\n      },\n      duration: 1,\n      weight: 48,\n      appearance: \"light\",\n      text: \"ðŸ”‰\",\n    }).show();\n  });\n});\n\n// Debugging: get info\nKey.on(\"i\", HYPER, () => logged(getInfo)());\nKey.on(\"c\", HYPER, () => logged(collectWindows)());\n\n/**\n * locate-able regions of a screen, expressed as fragments of a window Frame\n *\n * @param  {Screen} _screen The screen of interest\n * @return {Rectangle}         [description]\n */\nfunction getRegions(_screen) {\n  if (!_screen) _screen = Window.focused().screen();\n\n  return {\n    full: {\n      x: _screen.flippedVisibleFrame().x,\n      width: _screen.flippedVisibleFrame().width,\n      y: _screen.flippedVisibleFrame().y,\n      height: _screen.flippedVisibleFrame().height,\n    },\n    bottom: {\n      y:\n        Math.floor(_screen.flippedVisibleFrame().height / 2) +\n        _screen.flippedVisibleFrame().y,\n      height: Math.floor(_screen.flippedVisibleFrame().height / 2),\n    },\n    \"full-y\": {\n      y: _screen.flippedVisibleFrame().y,\n      height: _screen.flippedVisibleFrame().height,\n    },\n    top: {\n      y: _screen.flippedVisibleFrame().y,\n      height: Math.floor(_screen.flippedVisibleFrame().height / 2),\n    },\n    //===//\n    \"left-3\": {\n      x: _screen.flippedVisibleFrame().x,\n      width: Math.floor(_screen.flippedVisibleFrame().width / 3),\n    },\n    \"left-2\": {\n      x: _screen.flippedVisibleFrame().x,\n      width: Math.floor(_screen.flippedVisibleFrame().width / 2),\n    },\n    \"left-2/3\": {\n      x: _screen.flippedVisibleFrame().x,\n      width: Math.floor((_screen.flippedVisibleFrame().width / 3) * 2),\n    },\n    \"full-x\": {\n      x: _screen.flippedVisibleFrame().x,\n      width: _screen.flippedVisibleFrame().width,\n    },\n    \"right-2/3\": {\n      x:\n        Math.floor(_screen.flippedVisibleFrame().width / 3) +\n        _screen.flippedVisibleFrame().x,\n      width: Math.floor((_screen.flippedVisibleFrame().width / 3) * 2),\n    },\n    \"right-2\": {\n      x:\n        Math.floor(_screen.flippedVisibleFrame().width / 2) +\n        _screen.flippedVisibleFrame().x,\n      width: Math.floor(_screen.flippedVisibleFrame().width / 2),\n    },\n    \"right-3\": {\n      x:\n        Math.floor((_screen.flippedVisibleFrame().width / 3) * 2) +\n        _screen.flippedVisibleFrame().x,\n      width: Math.floor(_screen.flippedVisibleFrame().width / 3),\n    },\n  };\n}\n\n/**\n * Unified function to open/focus/hide an application\n * @param  {String} _appTarget name for app of interest\n * @return {none}\n */\nfunction openFocusHide(_appTarget) {\n  var appTarget = App.get(_appTarget);\n\n  if (!appTarget) {\n    App.launch(_appTarget, { focus: true });\n    return;\n  }\n\n  if (appTarget.isActive()) {\n    appTarget.hide();\n  } else {\n    appTarget.focus();\n  }\n}\n\n/**\n * Factory for making double-click handlers.\n * The lastClickTime Map is used to cache previous timer events, cached to the key+modifier combo\n *\n * @param {string} key the key trigger for the event\n * @param {Array} meta modifier keys for the key event\n * @param {Function} fn callback function which should be called (called with a boolean for whether it was a single or doubleclick)\n * @param {Array} timers a queue of single-click timers\n */\nfunction dblKeyPress(key, meta, fn, timers = []) {\n  const clickId = `${key}${JSON.stringify(meta)}`;\n  if (!lastPressTime.has(clickId)) lastPressTime.set(clickId, 0);\n\n  Key.once(key, meta, () => {\n    // cancel any \"single-click\" timers\n    timers.forEach((t) => t.stop());\n    timers = [];\n\n    // figure if we're doubleclicked\n    const n = Date.now();\n    const isDouble = n - lastPressTime.get(clickId) <= DOUBLE_PRESS_MS;\n\n    if (isDouble) {\n      // run double-click callback\n      fn(true);\n    } else {\n      // queue a single-click callback (will be cancelled if pressed again)\n      timers.push(\n        new Timer(DOUBLE_PRESS_MS / 1000, false, () => {\n          fn(false);\n        })\n      );\n    }\n\n    lastPressTime.set(clickId, isDouble ? n - DOUBLE_PRESS_MS : n);\n    dblKeyPress(key, meta, fn, timers);\n  });\n}\n\n/**\n * Window state toggle - as in PC super-left/right\n * @param  {Array}  _tests      list of [x,width] tuples to iterate through for matching & assigning\n * @return {null}\n */\nfunction stateToggle(_tests, _win = Window.focused()) {\n  // TODO: \"if there's another screen, push a state from the next screen into it\"\n  _tests.push(_tests[0]); // permit wrapping states [l,f,r,l]\n\n  // const _win = Window.focused();\n  const regions = getRegions(_win.screen());\n\n  // current state initialized to \"unmatched\"\n  let currentState = -1;\n\n  // Match one axis or the other\n  for (var i = 0; i <= _tests.length - 1; i++) {\n    // prettier-ignore\n    var boxCheck = (_win.frame().x == regions[_tests[i]].x && _win.frame().width  == regions[_tests[i]].width)\n                 ||(_win.frame().y == regions[_tests[i]].y && _win.frame().height == regions[_tests[i]].height);\n\n    // current box matches, break\n    if (boxCheck) {\n      currentState = i;\n      Phoenix.log(\n        `found state ${_tests[currentState]}(${currentState}), next: ${\n          _tests[currentState + 1]\n        }(${currentState + 1})`\n      );\n      break;\n    }\n  }\n\n  if (currentState === -1) Phoenix.log(\"unmatched window state\");\n\n  // Assign next state in 'regions' queue (unmatched is effectively \"0\" == -1 + 1)\n  const nextRegion = _tests[currentState + 1];\n  const nextFrame = Object.assign({}, _win.frame(), regions[nextRegion]);\n\n  Phoenix.log(nextRegion, JSON.stringify(regions[nextRegion]));\n  _win.setFrame(nextFrame);\n}\n\n/**\n * default layout uses screens or spaces to segment primary/secondary workspace\n */\nconst LAYOUT_SPACING_UNIT = 35;\nfunction triggerLayout() {\n  let layout;\n  // use regions[i] to access specific screens\n  const regions = Screen.all().map((s) => getRegions(s));\n\n  if (Screen.all().length === 3) {\n    layout = layout3screens(regions);\n  } else if (Screen.all().length === 2) {\n    layout = layout2screens(regions);\n  } else if (Space.all().lenth > 1) {\n    layout = layoutSpaces(regions);\n  } else {\n    // Guard against errors\n    Phoenix.notify(\n      \"COULD NOT SET LAYOUT:\\nlayout must have either muliple screens or multiple spaces\"\n    );\n    return;\n  }\n\n  // cache the current window since we manipulate focus in the loop\n  const _winStart = Window.focused();\n\n  for (const [appName, locateWindow] of Object.entries(layout)) {\n    try {\n      // only way we can find items in other spaces, if necessary\n      App.get(appName).mainWindow().focus();\n    } catch (err) {\n      Phoenix.log(`${appName} did not have a main window to focus`);\n    }\n    if (!App.get(appName)) continue;\n\n    App.get(appName)\n      .windows()\n      .filter((w) => w.isVisible())\n      .forEach(locateWindow);\n  }\n\n  _winStart.focus();\n  Phoenix.notify(\"Layout assigned.\");\n}\n\n/**\n * Layout Definition for 3-screen arrangement\n *\n * @param {Array} regions\n * @returns Object\n */\nfunction layout3screens() {\n  Phoenix.notify(\"3 Screen Layout\");\n\n  // use regions[i] to access specific screens. regions are sorted left-to-right\n  let regions = Screen.all().sort((a, b) => a.frame().x - b.frame().x);\n  Phoenix.log(JSON.stringify(regions));\n\n  regions = regions.map((s) => getRegions(s));\n  Phoenix.log(JSON.stringify(regions));\n\n  return {\n    [BROWSER]: (window, i, all) =>\n      window.setFrame({\n        ...regions[0][\"full-y\"],\n        ...regions[0][\"right-3\"],\n        x: regions[0][\"right-3\"].x - i * LAYOUT_SPACING_UNIT,\n        y: regions[0][\"full-y\"].y + (all.length - i - 1) * LAYOUT_SPACING_UNIT,\n        height:\n          regions[0][\"full-y\"].height -\n          (all.length - i - 1) * LAYOUT_SPACING_UNIT,\n      }),\n    [EDITOR]: (window) =>\n      window.setFrame({\n        ...regions[2][\"full-y\"],\n        ...regions[2][\"full-x\"],\n      }),\n    [CHAT]: (window, i) => {\n      moveToSpace(0, { window });\n      window.setFrame({\n        ...regions[0][\"left-2/3\"],\n        ...regions[0][\"full-y\"],\n        width:\n          regions[0][\"left-2/3\"].width -\n          (App.get(BROWSER)\n            .windows()\n            .filter((w) => w.isVisible()).length +\n            App.get(CHAT)\n              .windows()\n              .filter((w) => w.isVisible()).length -\n            // two windows should be an even 2:1 split\n            2) *\n            LAYOUT_SPACING_UNIT,\n        x: regions[0][\"left-2/3\"].x + i * LAYOUT_SPACING_UNIT,\n      });\n    },\n    [CALENDAR]: (window, i) => {\n      window.setFrame({ ...regions[1][\"full-x\"], ...regions[1][\"bottom\"] });\n    },\n    [NOTES]: (window, i) => {\n      moveToSpace(0, { window });\n      window.setFrame({ ...regions[1][\"full-x\"], ...regions[1][\"top\"] });\n    },\n  };\n}\nfunction layout2screens(regions) {\n  Phoenix.notify(\"2 Screen Layout\");\n  return {\n    [BROWSER]: (window, i, all) =>\n      window.setFrame({\n        ...regions[1][\"full-y\"],\n        ...regions[1][\"right-3\"],\n        x: regions[1][\"right-3\"].x - i * LAYOUT_SPACING_UNIT,\n        y: regions[1][\"full-y\"].y + (all.length - i - 1) * LAYOUT_SPACING_UNIT,\n        height:\n          regions[1][\"full-y\"].height -\n          (all.length - i - 1) * LAYOUT_SPACING_UNIT,\n      }),\n    [EDITOR]: (window, i) =>\n      window.setFrame({\n        ...regions[1][\"full-y\"],\n        ...regions[1][\"left-2/3\"],\n        width:\n          regions[1][\"left-2/3\"].width -\n          (App.get(BROWSER)\n            .windows()\n            .filter((w) => w.isVisible()).length +\n            App.get(EDITOR)\n              .windows()\n              .filter((w) => w.isVisible()).length -\n            // two windows should be an even 2:1 split\n            2) *\n            LAYOUT_SPACING_UNIT,\n        x: regions[1][\"left-2/3\"].x + i * LAYOUT_SPACING_UNIT,\n      }),\n    [CHAT]: (window, i) => {\n      moveToSpace(0, { window });\n      window.setFrame(regions[0][\"left-2/3\"]);\n    },\n    [NOTES]: (window, i) => {\n      moveToSpace(0, { window });\n      window.setFrame(regions[0][\"right-2/3\"]);\n    },\n  };\n}\nfunction layoutSpaces(regions) {\n  return {\n    [BROWSER]: (window, i, all) => moveToSpace(0, { window }),\n    [EDITOR]: (window, i) => moveToSpace(0, { window }),\n    [CHAT]: (window, i) => {\n      moveToSpace(1, { window });\n      window.setFrame(regions[0][\"left-2/3\"]);\n    },\n    [NOTES]: (window, i) => {\n      moveToSpace(1, { window });\n      window.setFrame(regions[0][\"right-2/3\"]);\n    },\n  };\n}\n\nfunction moveToSpace(slot, { window }) {\n  Space.all().forEach((s, i) => {\n    if (i === slot) {\n      Phoenix.log(\"move window\", window.title(), \"to space\", slot);\n      s.addWindows([window]);\n    } else {\n      s.removeWindows([window]);\n    }\n  });\n}\n\n/**\n * moves the current window to the next screen\n */\nfunction moveToNextScreen() {\n  const _win = Window.focused();\n  _win.setFrame(_win.screen().next().frame());\n  stateToggle([\"full\"]);\n}\n\n/**\n * debugger to log out the current state of the UI\n */\nfunction getInfo() {\n  Screen.all().forEach((s, i) =>\n    Phoenix.log(\n      `[Screen#all:${i}]`,\n      s.identifier(),\n      `\\t${JSON.stringify(s.frame())}`\n    )\n  );\n\n  const _win = Window.focused();\n  Phoenix.log(\"[Window#focused]\\t\", _win.app().name(), \">\", _win.title());\n  Window.recent().forEach((w, i) =>\n    Phoenix.log(`[Window#recent:${i}]`, w.app().name(), `\\t${w.title()}`)\n  );\n\n  Space.all().forEach((s, i) => {\n    Phoenix.log(`[Space#all:${i}]`, \"isNormal=\", !!s.isNormal());\n    s.windows().forEach((w) =>\n      Phoenix.log(`[Space#all:${i}]`, w.app().name(), `\\t${w.title()}`)\n    );\n  });\n}\n\n/**\n * Utility to logg the running of other functions\n *\n * @param {function} fn the function you'll run\n * @returns a callback fun (when provided no args) or the result of calling `fn`\n */\nfunction logged(fn) {\n  return function (...args) {\n    Phoenix.log(`--- start ${fn.name}`);\n    const value = fn(...args);\n    Phoenix.log(`--- end ${fn.name}`);\n    return value;\n  };\n}\n\nPhoenix.notify(\"initialized (monitor with `log stream --process Phoenix`)\");","source":"dotfiles/macos/window management.md","disabled":false,"label":"phoenix-install \u001b[32msymlink\u001b[39m:\u001b[4mjs\u001b[24m to /Users/sgregson/.phoenix.js"},{"lang":"js","meta":"$HOME/.slate.js action=symlink title=slate-installer","options":{"targetPath":"/Users/sgregson/.slate.js","action":"symlink","title":"slate-installer"},"content":"/**\n * Slate Configuration File\n *\n * @copyright Spencer Gregson\n */\n\n/*globals slate*/\nslate.log(\"[Slate] - start of config\");\n\n// Configs\nslate.configAll({\n  defaultToCurrentScreen: true,\n  secondsBetweenRepeat: 0.1,\n  checkDefaultsOnLoad: true,\n  repeatOnHoldOps: \"resize,nudge,push\",\n  focusCheckWidthMax: 3000,\n  orderScreensLeftToRight: true,\n  gridBackgroundColor: [140, 25, 160, 1.0],\n  gridCellBackgroundColor: [200, 40, 230, 1.0],\n  windowHintsSpread: true,\n  windowHintsFontColor: [140, 25, 160, 1.0],\n  windowHintsBackgroundColor: [200, 40, 230, 0.6],\n  windowHintsRoundedCornerSize: 10,\n  windowHintsIgnoreHiddenWindows: false,\n  windowHintsShowIcons: true,\n});\n\n// Registries for binding keys and grids\nvar binder = {};\nvar grids = {\n  grids: {},\n  padding: 4,\n};\nvar hints = { characters: \"1234567890qwertyuiop\" };\n\n// Key combo aliases\nvar hyper = \"ctrl;alt;cmd\";\nvar hyperBig = \"ctrl;alt;cmd;shift\";\n\n// Application aliases\nvar browser = \"Google Chrome\";\nvar editor = \"Sublime Text\";\nvar terminal = \"iTerm2\";\nvar chat = \"Slack\";\nvar email = \"Microsoft Outlook\";\nvar player = \"Spotify\";\nvar tasks = \"TaskPaper\";\n\n// Monitors and Layouts\nvar monLaptop = \"1440x900\";\nvar monThunderbolt = \"2560x1440\";\nvar monPcHome = \"1920x1200\";\nvar monPcWork = \"1050x1680\";\n\nvar monAlt = {\n  laptop: \"1440x900\",\n  vertical: \"1920x1200\",\n  horizontal: \"1920x1200\",\n};\n\n// Generic Operations\nvar hideSpotify = slate.operation(\"hide\", { app: player });\nvar focusEditor = slate.operation(\"focus\", { app: editor });\n\n/**\n * Generalized fullscreen operation with configurable screen ID\n * @param  {String} id the numeric/descriptive ID of the screen of interest. `null` falls back to current\n * @return {None}\n */\nfunction fullScreen(id) {\n  return slate.operation(\"move\", {\n    screen: id,\n    x: \"screenOriginX\",\n    y: \"screenOriginY\",\n    width: \"screenSizeX\",\n    height: \"screenSizeY\",\n  });\n}\n\nvar monitorJson3 = {\n  _before_: { operations: hideSpotify }, // before the layout is activated, hide Spotify\n  _after_: { operations: focusEditor }, // after the layout is activated, focus iTerm2\n};\nmonitorJson3[terminal] = {\n  repeat: true,\n  operations: [\n    function (windowObj) {\n      var title = windowObj.title();\n      if (title !== undefined && title.match(/(Wayfair)|(repos)|(realsync)/)) {\n        // Only move the codebase iTerm window to the vertical monitor\n        windowObj.doOperation(fullScreen(monAlt.vertical));\n      }\n    },\n  ],\n};\nmonitorJson3[email] = {\n  repeat: true,\n  operations: [\n    function (windowObj) {\n      var title = windowObj.title();\n      if (title.match(/Reminders?/)) {\n        windowObj.doOperation(\n          slate.operation(\"move\", {\n            screen: monAlt.horizontal,\n            x: \"screenSizeX * 5/6\",\n            width: \"screenSizeX * 1/6\",\n            y: \"screenSizeY * 4/5\",\n            height: \"screenSizeY * 1/5\",\n          })\n        );\n      } else if (title.match(/(Inbox)|(Indirect)/)) {\n        // Only move the main outlook window\n        windowObj.doOperation(\n          slate.operation(\"move\", {\n            screen: monAlt.horizontal,\n            x: \"screenOriginX\",\n            y: \"screenOriginY\",\n            width: \"screenSizeX\",\n            height: \"screenSizeY /2\",\n          })\n        );\n      }\n    },\n  ],\n};\nmonitorJson3[browser] = {\n  repeat: true,\n  operations: [\n    function (windowObj) {\n      var title = windowObj.title();\n      if (title !== undefined && title.match(/Hangouts/)) {\n        windowObj.doOperation(\n          slate.operation(\"move\", {\n            screen: monAlt.horizontal,\n            x: \"screenSizeX * 5/6\",\n            y: \"screenSizeY * 2/5\",\n            width: \"screenSizeX / 6\",\n            height: \"screenSizeY * 2/5\",\n          })\n        );\n      }\n    },\n  ],\n};\nmonitorJson3[chat] = {\n  operations: slate.operation(\"move\", {\n    screen: monAlt.vertical,\n    x: \"screenOriginX\",\n    y: \"screenOriginY\",\n    width: \"screenSizeX\",\n    height: \"screenSizeY * 2 / 3\",\n  }),\n};\n\nmonitorJson3[tasks] = {\n  operations: [\n    (windowObj) => {\n      var title = windowObj.title();\n      if (title !== undefined && title.match(/did\\.txt/)) {\n        slate.operation(\"move\", {\n          screen: monAlt.laptop,\n          x: \"screenSizeX / 2\",\n          y: \"screenSizeY * 2/3\",\n          width: \"screenSizeX / 2\",\n          height: \"screenSizeY * 2/3\",\n        });\n      }\n    },\n  ],\n};\n\nvar monitorJson3Alt = {\n  _before_: { operations: hideSpotify }, // before the layout is activated, hide Spotify\n  _after_: { operations: focusEditor }, // after the layout is activated, focus iTerm2\n  [terminal]: {\n    repeat: true,\n    operations: [\n      function (windowObj) {\n        var title = windowObj.title();\n        if (\n          title !== undefined &&\n          title.match(/(Wayfair)|(repos)|(realsync)/)\n        ) {\n          // Only move the codebase iTerm window to the vertical monitor\n          windowObj.doOperation(fullScreen(monLaptop));\n        }\n      },\n    ],\n  },\n  [email]: {\n    repeat: true,\n    operations: [\n      function (windowObj) {\n        var title = windowObj.title();\n        if (title.match(/Reminders?/)) {\n          windowObj.doOperation(\n            slate.operation(\"move\", {\n              screen: monThunderbolt,\n              x: \"screenSizeX * 5/6\",\n              width: \"screenSizeX * 1/6\",\n              y: \"screenSizeY * 4/5\",\n              height: \"screenSizeY * 1/5\",\n            })\n          );\n        } else if (title.match(/(Inbox)|(Indirect)/)) {\n          // Only move the main outlook window\n          windowObj.doOperation(\n            slate.operation(\"move\", {\n              screen: monPcWork,\n              x: \"screenOriginX\",\n              y: \"screenOriginY\",\n              width: \"screenSizeX\",\n              height: \"screenSizeY /2\",\n            })\n          );\n        }\n      },\n    ],\n  },\n  [browser]: {\n    repeat: true,\n    operations: [\n      function (windowObj) {\n        var title = windowObj.title();\n        if (title !== undefined && title.match(/Hangouts/)) {\n          windowObj.doOperation(\n            slate.operation(\"move\", {\n              screen: monThunderbolt,\n              x: \"screenSizeX * 5/6\",\n              y: \"screenSizeY * 2/5\",\n              width: \"screenSizeX / 6\",\n              height: \"screenSizeY * 2/5\",\n            })\n          );\n        }\n      },\n    ],\n  },\n  [chat]: {\n    operations: slate.operation(\"move\", {\n      screen: monPcWork,\n      x: \"screenOriginX\",\n      y: \"screenOriginY\",\n      width: \"screenSizeX\",\n      height: \"screenSizeY * 2 / 3\",\n    }),\n  },\n\n  [tasks]: {\n    operations: [\n      (windowObj) => {\n        var title = windowObj.title();\n        if (title !== undefined && title.match(/did\\.txt/)) {\n          slate.operation(\"move\", {\n            screen: monPcWork,\n            x: \"screenSizeX / 2\",\n            y: \"screenSizeY * 2/3\",\n            width: \"screenSizeX / 2\",\n            height: \"screenSizeY * 2/3\",\n          });\n        }\n      },\n    ],\n  },\n};\n\nvar layout3monitor = slate.layout(\"threeMonitors\", monitorJson3);\nvar layout3monitorAlt = slate.layout(\"threeMonitorsAlt\", monitorJson3Alt);\n\n// Grid definitions\ngrids[\"grids\"][monLaptop] = { width: 3, height: 2 };\ngrids[\"grids\"][monThunderbolt] = { width: 6, height: 5 };\ngrids[\"grids\"][monPcHome] = { width: 6, height: 5 };\ngrids[\"grids\"][monPcWork] = { width: 2, height: 3 };\n\n////\n// KEY BINDINGS\n////\n\n// Slate functions keymaps\nbinder[\"r:\" + hyperBig] = slate.operation(\"relaunch\");\nbinder[\"c:\" + hyper] = slate.operation(\"grid\", grids);\nbinder[\"g:\" + hyper] = slate.operation(\"hint\", hints);\n\n// Layout keymaps\nbinder[\"pad0:\" + hyper] = fullScreen(null);\nbinder[\"0:\" + hyper] = fullScreen(null);\nbinder[\"pad1:\" + hyper] = fullScreen(monPcWork);\nbinder[\"1:\" + hyper] = fullScreen(monPcWork);\nbinder[\"pad2:\" + hyper] = fullScreen(monLaptop);\nbinder[\"2:\" + hyper] = fullScreen(monLaptop);\nbinder[\"pad3:\" + hyper] = fullScreen(monThunderbolt);\nbinder[\"3:\" + hyper] = fullScreen(monThunderbolt);\n\nbinder[\"pad6:\" + hyper] = slate.operation(\"layout\", { name: layout3monitor });\nbinder[\"6:\" + hyper] = slate.operation(\"layout\", { name: layout3monitor });\nbinder[\"pad7:\" + hyper] = slate.operation(\"layout\", {\n  name: layout3monitorAlt,\n});\nbinder[\"7:\" + hyper] = slate.operation(\"layout\", { name: layout3monitorAlt });\n\n////\n// Set-up all the things!\n////\nslate.bindAll(binder);\nslate.default([monLaptop, monThunderbolt, monPcWork], layout3monitor);\n\nslate.log(\"[SLATE] - end of config\");","source":"dotfiles/macos/window management.md","disabled":false,"label":"slate-installer \u001b[32msymlink\u001b[39m:\u001b[4mjs\u001b[24m to /Users/sgregson/.slate.js"},{"lang":"sh","meta":"$HOME/.custom/reloadTabs action=symlink title=reloadTabs-function when=os.darwin","options":{"targetPath":"/Users/sgregson/.custom/reloadTabs","action":"symlink","title":"reloadTabs-function","when":"os.darwin"},"content":"# Reload Chrome tabs in background for matching $1 string\n# https://gist.github.com/badsyntax/1f4a58715194d780b2f6\n# Usage: reloadTabs \"wayfair.com\" will do browsersync for all wayfair tabs (based on turbine events)\nreloadTabs() {\n  osascript -e \"\n    tell application \\\"Google Chrome\\\"\n    set theUrl to \\\"$1\\\"\n    set found to false\n    set windowList to every window\n    repeat with aWindow in windowList\n      set tabList to every tab of aWindow\n      set tabIndex to 0\n      repeat with atab in tabList\n        set tabIndex to tabIndex + 1\n        if (URL of atab contains theUrl) then\n          set found to true\n          tell atab to reload\n          set aWindow's active tab index to tabIndex\n        end if\n      end repeat\n    end repeat\n    if not found then\n      display dialog \\\"Could not any tabs matching $1\\\"\n    end if\n  end tell\"\n}","source":"dotfiles/shell/misc.md","disabled":false,"label":"reloadTabs-function \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/reloadTabs"},{"lang":"sh","meta":"$HOME/.custom/fnm.sh action=symlink title=fnm-loader","options":{"targetPath":"/Users/sgregson/.custom/fnm.sh","action":"symlink","title":"fnm-loader"},"content":"echo \"...using fnm ($1)\"\neval \"$(fnm env --use-on-cd)\"","source":"dotfiles/shell/zsh.md","disabled":false,"label":"fnm-loader \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/fnm.sh"},{"lang":"sh","meta":"$HOME/.custom/glob.sh action=symlink title=zsh-extended-globbing","options":{"targetPath":"/Users/sgregson/.custom/glob.sh","action":"symlink","title":"zsh-extended-globbing"},"content":"#! /bin/zsh\n# Permit ZSH extended globbing\n# only include in interactive shells (zshrc) - https://unix.stackexchange.com/questions/431805/zsh-is-there-a-problem-with-always-enabling-extended-glob\nsetopt extended_glob","source":"dotfiles/shell/zsh.md","disabled":false,"label":"zsh-extended-globbing \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/glob.sh"},{"lang":"sh","meta":"$HOME/.custom/wayfair.sh action=symlink title=shell-aliases","options":{"targetPath":"/Users/sgregson/.custom/wayfair.sh","action":"symlink","title":"shell-aliases"},"content":"#! /bin/zsh\n\nalias wayproxy=\"docker run --rm -p 443:443 -v ~/.local-certs:/certs wayfair/local-https-proxy\"","source":"dotfiles/shell/zsh.md","disabled":false,"label":"shell-aliases \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/wayfair.sh"},{"lang":"sh","meta":"$HOME/.custom/zmv.sh action=symlink title=zmv-for-build-rename","options":{"targetPath":"/Users/sgregson/.custom/zmv.sh","action":"symlink","title":"zmv-for-build-rename"},"content":"# Dry Run:$ zmv -n 'Page(*)/shot.jpg' 'shot-${1}.jpg'\n# Actual: $ zmv 'Page(*)/shot.jpg' 'shot-${1}.jpg'\nautoload zmv\nalias mmv='noglob zmv -W'\nalias zcp='zmv -C'\nalias zln='zmv -L'","source":"dotfiles/shell/zsh.md","disabled":false,"label":"zmv-for-build-rename \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/zmv.sh"},{"lang":"sh","meta":"$HOME/.custom/env.sh action=symlink title=environment-variables","options":{"targetPath":"/Users/sgregson/.custom/env.sh","action":"symlink","title":"environment-variables"},"content":"# Manage environment variables with 1Password CLI (was installed via homebrew)\n# op signin [VaultName]\necho \"...fetch env\"\n\n# https://rossedman.io/blog/computers/setting-env-vars-from-1password/\nexport MAPBOX_ACCESS_TOKEN=$(op read op://Personal/MAPBOX_ACCESS_TOKEN/password)\nexport DAISYDISK_LICENSE=$(op read op://Personal/DAISYDISK_LICENSE/password)\nexport BUNDLE_GEMS__GRAPHQL__PRO=$(op read op://huntclub/graphql-pro/password)\n\n# apply the sublimerge licence\nif [ -d \"$HOME/Library/Application Support/Sublime Text 3/\" ]; then\n  echo \"{\\\"key\\\": \\\"$(op read op://Personal/SUBLIMERGE_LICENSE/password)\\\"\" > \"$HOME/Library/Application Support/Sublime Text 3/Packages/User/Sublimerge.sublime-license\"\nfi","source":"dotfiles/shell/zsh.md","disabled":false,"label":"environment-variables \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/env.sh"},{"lang":"sh","meta":"$HOME/.zshenv action=symlink title=zshenv","options":{"targetPath":"/Users/sgregson/.zshenv","action":"symlink","title":"zshenv"},"content":"# install nvm on first run,\n# probably not a good idea to do here\n# source $HOME/.custom/fnm.sh 'zshenv' TODO: can't load since homebrew hasn't loaded yet","source":"dotfiles/shell/zsh.md","disabled":false,"label":"zshenv \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.zshenv"},{"lang":"sh","meta":"$HOME/.zprofile action=symlink title=zprofile","options":{"targetPath":"/Users/sgregson/.zprofile","action":"symlink","title":"zprofile"},"content":"export PATH=\"$PATH:$(python3 -m site --user-base)/bin\"\nexport PATH=\"$(yarn global bin):$PATH\"\n\n# Add Visual Studio Code (code)\nexport PATH=\"$PATH\":\"/Applications/Visual Studio Code.app/Contents/Resources/app/bin\"\n\n# Enable rbenv for sublime plugins (linting)\n# export PATH=\"$HOME/.rbenv/bin:$PATH\"\n# eval \"$(rbenv init -)\"\n\n# Set PATH, MANPATH, etc., for Homebrew.\n# /Users/sgregson/.zprofile:7: no such file or directory: /opt/homebrew/bin/brew\n# eval \"$(/usr/local/bin/brew shellenv)\"\neval \"$(/opt/homebrew/bin/brew shellenv)\"\n\n\n# Enable NVM for sublime plugins\n# source $HOME/.custom/nvm.sh 'zprofile'\nsource $HOME/.custom/fnm.sh 'zprofile'","source":"dotfiles/shell/zsh.md","disabled":false,"label":"zprofile \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.zprofile"},{"lang":"sh","meta":"$HOME/.zshrc action=symlink title=zshrc","options":{"targetPath":"/Users/sgregson/.zshrc","action":"symlink","title":"zshrc"},"content":"# User Config (references to other dotfiles)\n# source $HOME/.custom/omz.sh TODO: 2024-05-16 no longer using omz\nsource $HOME/.custom/aliases.sh\nsource $HOME/.custom/env.sh\nsource $HOME/.custom/zmv.sh\nsource $HOME/.custom/glob.sh\nsource $HOME/.custom/gcloud-brew.sh\n# source $HOME/.custom/wayfair.sh TODO: 2024-05-16 no longer using omz\n\nexport GPG_TTY=$(tty)\n\n# echo \"nvm $(nvm --version) (run 'nvm use stable')\" TODO: 2024-05-16 no longer using nvm\necho \"fnm $(fnm current)\"\n\n## source fuzzy find completions for zsh\nsource <(fzf --zsh)\n\n# load ASDF tool\nsource \"$(brew --prefix asdf)/libexec/asdf.sh\"\n\n## Support yarn global binaries\nexport PATH=\"$(yarn global bin):$PATH\"","source":"dotfiles/shell/zsh.md","disabled":false,"label":"zshrc \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.zshrc"},{"lang":"sh","meta":"$HOME/.custom/omz.sh action=symlink title=oh-my-zsh","options":{"targetPath":"/Users/sgregson/.custom/omz.sh","action":"symlink","title":"oh-my-zsh"},"content":"# If you come from bash you might have to change your $PATH.\n# export PATH=$HOME/bin:/usr/local/bin:$PATH\n\n# Path to your oh-my-zsh installation.\nexport ZSH=\"$HOME/.oh-my-zsh\"\n\n# Set name of the theme to load ---\n# load a random theme with \"random\" and echo $RANDOM_THEME\nZSH_THEME=\"robbyrussell\"\n# ZSH_THEME_RANDOM_CANDIDATES=( \"robbyrussell\" \"agnoster\" )\n\n# Uncomment the following line to use case-sensitive completion.\n# CASE_SENSITIVE=\"true\"\n\n# Uncomment the following line to use hyphen-insensitive completion.\n# Case-sensitive completion must be off. _ and - will be interchangeable.\nHYPHEN_INSENSITIVE=\"true\"\n\n# Uncomment one of the following lines to change the auto-update behavior\n# zstyle ':omz:update' mode disabled  # disable automatic updates\n# zstyle ':omz:update' mode auto      # update automatically without asking\n# zstyle ':omz:update' mode reminder  # just remind me to update when it's time\n\n# Uncomment the following line to change how often to auto-update (in days).\n# zstyle ':omz:update' frequency 13\n\n# Uncomment the following line if pasting URLs and other text is messed up.\n# DISABLE_MAGIC_FUNCTIONS=\"true\"\n\n# Uncomment the following line to disable colors in ls.\n# DISABLE_LS_COLORS=\"true\"\n\n# Uncomment the following line to disable auto-setting terminal title.\n# DISABLE_AUTO_TITLE=\"true\"\n\n# Uncomment the following line to enable command auto-correction.\nENABLE_CORRECTION=\"true\"\n\n# Uncomment the following line to display red dots whilst waiting for completion.\n# You can also set it to another string to have that shown instead of the default red dots.\n# e.g. COMPLETION_WAITING_DOTS=\"%F{yellow}waiting...%f\"\n# Caution: this setting can cause issues with multiline prompts in zsh < 5.7.1 (see #5765)\nCOMPLETION_WAITING_DOTS=\"true\"\n\n# Uncomment the following line if you want to disable marking untracked files\n# under VCS as dirty. This makes repository status check for large repositories\n# much, much faster.\nDISABLE_UNTRACKED_FILES_DIRTY=\"true\"\n\n# Uncomment the following line if you want to change the command execution time\n# stamp shown in the history command output.\n# \"mm/dd/yyyy\"|\"dd.mm.yyyy\"|\"yyyy-mm-dd\"\nHIST_STAMPS=\"yyyy-mm-dd\"\n\n# Standard plugins can be found in $ZSH/plugins/\n# Custom plugins may be added to $ZSH_CUSTOM/plugins/\nplugins=(git web-search)\nZSH_WEB_SEARCH_ENGINES=(\n  reddit \"https://www.reddit.com/search/?q=\"\n  npmjs \"https://www.npmjs.com/search?q=\"\n)\n\n# Load it!\nsource $ZSH/oh-my-zsh.sh","source":"dotfiles/shell/zsh.md","disabled":false,"label":"oh-my-zsh \u001b[32msymlink\u001b[39m:\u001b[4msh\u001b[24m to /Users/sgregson/.custom/omz.sh"},{"lang":"ini","meta":"$HOME/.ssh/config action=symlink title=ssh-config","options":{"targetPath":"/Users/sgregson/.ssh/config","action":"symlink","title":"ssh-config"},"content":"Host dev-gcp\n  HostName webphp-php8sgregson-dsm1.us-central1-a.c.wf-gcp-us-sds-prod.internal\n  CanonicalizeHostname yes\n\nHost *.wf-gcp-us-sds-prod.internal\n  User sgregson_gcp_wayfair_com\n  StrictHostKeyChecking no\n  UserKnownHostsFile /dev/null\n  # IdentityFile ~/.ssh/id_rsa\n  # IdentitiesOnly yes\n  # ForwardAgent yes\n  # ServerAliveInterval 240\n\n\nHost *\n    IdentityAgent \"~/Library/Group Containers/2BUA8C4S2C.com.1password/t/agent.sock\"","source":"dotfiles/ssh.md","disabled":false,"label":"ssh-config \u001b[32msymlink\u001b[39m:\u001b[4mini\u001b[24m to /Users/sgregson/.ssh/config"},{"lang":"vim","meta":"$HOME/.vimrc action=symlink","options":{"targetPath":"/Users/sgregson/.vimrc","action":"symlink"},"content":":syntax enable","source":"dotfiles/Vim.md","disabled":false,"label":"$HOME/.vimrc action=symlink \u001b[32msymlink\u001b[39m:\u001b[4mvim\u001b[24m to /Users/sgregson/.vimrc"},{"lang":"yaml","meta":"$HOME/.config/jrnl/jrnl.yaml action=build","options":{"targetPath":"/Users/sgregson/.config/jrnl/jrnl.yaml","action":"build"},"content":"- default_hour: 9\n- linewrap: 79\n- encrypt: false\n- default_minute: 0\n- tagsymbols: \"@\"\n- editor: \"open -a macdown -Wn\"\n- timeformat: \"%Y-%m-%d %H:%M\"\n- highlight: true\n- journals:\n    - default: \"~/Dropbox/logging.txt\"","source":"dotfiles/jrnl.md","disabled":false,"label":"$HOME/.config/jrnl/jrnl.yaml action=build \u001b[32mbuild\u001b[39m:\u001b[4myaml\u001b[24m to /Users/sgregson/.config/jrnl/jrnl.yaml"},{"lang":"ini","meta":"$HOME/.gitconfig-csnzoo action=build title=gitconfig(work-id)","options":{"targetPath":"/Users/sgregson/.gitconfig-csnzoo","action":"build","title":"gitconfig(work-id)"},"content":"[user]\n  name = Spencer Gregson\n  email = sgregson@wayfair.com\n  signingkey = 376AA48582F8ADAFA44B47A1FB5A1923EFF83E21","source":"dotfiles/git/global config.md","disabled":false,"label":"gitconfig(work-id) \u001b[32mbuild\u001b[39m:\u001b[4mini\u001b[24m to /Users/sgregson/.gitconfig-csnzoo"}]}